- name: Install neovim (Debian based)
  when: ansible_distribution in ["Debian", "Pop!_OS", "Ubuntu"]
  apt:
    pkg:
      - neovim
    state: latest
  tags: neovim

- name: Copy neovim config
  copy:
    src: nvim
    dest: /home/brian/.config
    owner: brian
    group: brian
  tags: neovim

- name: Create neovim autoload directory
  file:
    path: /home/brian/.local/share/nvim/site/autoload
    owner: brian
    group: brian
    state: directory
  tags: neovim

- name: Install vim-plug
  get_url:
    url: https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
    dest: /home/brian/.local/share/nvim/site/autoload/plug.vim
    mode: 0644
  tags: neovim

